---
published: true
header:
  video:
    id: 212731897
    provider: vimeo
---
Nemesis is a hybrid ROS1/ROS2 skid-steer UVG which grew out of an effort to primarily familiaze my self with integrating an exising ground vehicle into the ROS ecosystem.

I started  by implementing a ROS1 `hardware_interface` for the [Monsterborg mobile base][monsterborg-base-site] from PiBorg.  

After its succesfull completion I went on to extend the resulting system by adding a more powerfull processor and sensors for SLAM. Since then I have been using the system as an outdoor mapping and a mobile compute edge platform for drone navigation experiments including the [TUM AR Drone ROS stack][tum-ar-drone-ros-wiki].

Very recently, I have began making inroads into adding experimental autonomous navigation support with `move_base`. After a rudimentary setup of move_base on ROS Melodic, I decided to switch to ROS2 Foxy to leveradge the `nav2` package for greater flexibility using `ros1_bridge` to communicate with the mobile base Kinetic stack.  This is currently current work in progress.

The following describes my stable setup on ROS1.

## System Architecture

The System architecture is logically into two system components with corresponding code repositories:

1.  A mobile base with an internal ARM based (ARM Cortex-A53 1.2GHz) base controller computer running ROS Kinetic.
[antoan/nemesis][nemesis]

2.  Upper chassis housing an i7 Intel dual core processor ( i7-6600U CPU @ 2.60GHz processor) computer running ROS Melodic and `D435i` & `T256 Intel Realsense` depth and tracking cameras, positioned relative to each other with a dedicated mount. 
[antoan/nemesis_core][nemesis-core] 

Both computers are connected via ethernet network with an onboard router. The robot can be driven via multiplexed input from a Sony PS4 DualShock 4 controller, `rqt_steering` plugin or `cmd_vel` input from `move_base`.

## Software Architecture

The software stack running on the mobile base is largely based on an adaptation of the [Clearpath Husky Kinetic][husky-kinetic-github-branch] stack's base, control, description and navigation packages. 

The ROS hardware interface implementation wraps the motor controller driver that came with the mobile base, which I ported to Cython from Python to reduce latency in the main ROS control loop.  
For perception and SLAM, I use [rtabmap_ros][rtabmap-ros-wiki] built from source with Apriltag, g2o features support. In addition, I use the  [realsense_ros][realsense-ros-github] with the Realsense distribution installation method rather than the `ros-melodic-realsense-ros` package.


{% include gallery caption="This is a sample gallery with **Markdown support**." %}

Below is an example of an outdoor mapping session.

[realsense-ros-github]: https://github.com/IntelRealSense/realsense-ros#method-2-the-realsense-distribution
[husky-kinetic-github-branch]: https://github.com/husky/husky/tree/kinetic-devel
[rtabmap-ros-wiki]: http://wiki.ros.org/rtabmap_ros
[nemesis-core]: https://github.com/antoan/nemesis_core
[nemesis]: https://github.com/antoan/nemesis
[tum-ar-drone-ros-wiki]: http://wiki.ros.org/tum_ardrone
[monsterborg-base-site]: https://www.piborg.org/robots-1/monsterborg
